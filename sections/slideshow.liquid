{% schema %}
    {
        "name": "Slideshow",
        "class": "hero-slideshow",
        "settings": [
            {
                "id": "autoplay",
                "type": "checkbox",
                "label": "Enable autoplay",
                "default": true
            },
            {
                "id": "autoplay_speed",
                "type": "range",
                "min": 2000,
                "max": 8000,
                "step": 500,
                "unit": "ms",
                "label": "Autoplay speed",
                "default": 5000
            }
        ],
        "blocks": [
            {
                "type": "slide",
                "name": "Slide",
                "settings": [
                    {
                        "id": "image",
                        "type": "image_picker",
                        "label": "Image"
                    },
                    {
                        "id": "title",
                        "type": "text",
                        "label": "Title",
                        "placeholder": "Slide title"
                    },
                    {
                        "id": "content",
                        "type": "textarea",
                        "label": "Slide content"
                    },
                    {
                        "id": "button_url",
                        "type": "url",
                        "label": "Button url"
                    },
                    {
                        "id": "button_text",
                        "type": "text",
                        "label": "Button text",
                        "placeholder": "Shop now",
                        "info": "Defaults to \"Shop now\""
                    }  
                ]
            }
        ],
        "presets": [
            {
                "category": "Hero",
                "name": "Slideshow",
                "settings": {
                    "autoplay": true,
                    "autoplay_speed": 6500
                },
                "blocks": [
                    {
                        "type": "slide",
                        "settings": {
                            "title": "Slide 1",
                            "content": "Slide 1 content",
                            "button_url": "#",
                            "button_text": "Slide button"
                        }
                    },
                    {
                        "type": "slide",
                        "settings": {
                            "title": "Slide 2",
                            "content": "Slide 2 content",
                            "button_url": "#"
                        }
                    }
                ]
            }
        ]
    }
{% endschema %}

<div class="slideshow-wrap" data-autoplay="{{ section.settings.autoplay }}" data-autoplay-speed="{{ section.settings.autoplay_speed }}">
    {% for block in section.blocks %}
        <div class="slide" {{ block.shopify_attributes }}>
            {{ block.settings.image }}
            {{ block.settings.title }}
            {{ block.settings.content }}
            {{ block.settings.button_url }}
            {{ block.settings.button_text }}
        </div>
    {% endfor %}
</div>